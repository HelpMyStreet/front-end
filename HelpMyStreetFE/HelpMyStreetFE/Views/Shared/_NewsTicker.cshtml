@using HelpMyStreet.Contracts;
@using Westwind.AspNetCore.Markdown;
@using HelpMyStreetFE.Helpers;

@model IEnumerable<NewsTickerMessage>

@if (Model != null)
{
    <script>
        document.documentElement.style.setProperty("--numberOfMessages", @Model.Count());
    </script>

    <div class="news-ticker">
        <div class="news-ticker-inner">
            @foreach (var message in Model)
            {
                <div class="news-ticker-item">
                    @if (message.SupportActivity.HasValue)
                    {
                        <img src="~/img/icons/@message.SupportActivity.Value.Icon()" />
                    }
                    @Markdown.ParseHtmlString(message.Message)
                </div>
            }
        </div>
    </div>
}

