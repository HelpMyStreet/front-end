@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model HelpMyStreetFE.Models.Account.Jobs.StatusBarViewModel

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    jobCompleteness.push({jobId: "@Model.JobID", aJobs: @Model.AcceptedJobs, uaJobs: @(Model.TotalJobs - Model.AcceptedJobs), totalJobs: @Model.TotalJobs})

</script>

<div class="status-circle">

    <svg>
        <filter id="dropshadow" height="130%" width="130%">
            <feGaussianBlur in="SourceAlpha" stdDeviation="3"></feGaussianBlur> <!-- stdDeviation is how much to blur -->
            <feOffset dx="2" dy="2" result="offsetblur"></feOffset> <!-- how much to offset -->
            <feComponentTransfer>
                <feFuncA type="linear" slope="0.5"></feFuncA> <!-- slope is the opacity of the shadow -->
            </feComponentTransfer>
            <feMerge>
                <feMergeNode></feMergeNode> <!-- this contains the offset blurred image -->
                <feMergeNode in="SourceGraphic"></feMergeNode> <!-- this contains the element that the filter is applied to -->
            </feMerge>
        </filter>


        <circle class="backBar" cx="50%" cy="50%" r="35%" style="filter: url(#dropshadow);"><title>@(Model.TotalJobs - Model.AcceptedJobs) shifts not yet filled</title></circle>
        <circle class="jobBar" cx="50%" cy="50%" r="35%">
            <title>@Model.AcceptedJobs shifts filled</title>

        </circle>
        <path class="tick" fill="none" stroke="white" stroke-width="3" d="M12 27.2l7.1 7 16.7-16.8" />

    </svg>
    <span>@Model.AcceptedJobs/@Model.TotalJobs</span>
</div>